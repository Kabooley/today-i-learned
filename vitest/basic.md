# vitest

## Configuration

#### `dir` option

これは vitest がテストファイルを探し始めるディレクトリを指定するための設定である。

デフォルトではそのプロジェクトのルートディレクトリであるが、

これを指定すると vitest に余計な場所を捜索させる無駄が省かれるので大きいプロジェクトだと少しテストにかかる時間が節約できるかも

注意：

`dir`を指定するとそのディレクトリ以下にのみテストがあると vitest は判断するので、

そのディレクトリ以外にテストがあり vitest で実行してもらいたい場合

`dir`の設定を見直す必要がある

## こんな時どうする？

#### 特定のディレクトリのテストファイルだけ実行してほしい時

たとえば既存の設定はプロジェクト内のすべての`*.test.ts`ファイルを実行する設定だけど

特定のファイルだけテストしたいときなどは、

ディレクトリを指定すればそのディレクトリ以下のテストファイルだけに絞らせることができる。

例：

```bash
+--__tests__/
|   +-- # ローカルで実行したいファイルなど
|
+--__tests-browser__/
|   +-- # ブラウザ環境で実行したいファイルなど
|
+--vitest.config.ts
+--vitest.setup.ts
+--package.json
```

```bash
$ npx vitest --dir=./__tests-browser__/
```

たとえば既存の設定では`__tests__/`も`__tests-browser__/`も両方テストするという設定になっているときに

特定のディレクトリ以下のみテストしたいという時に便利。

NOTE: 未検証：この場合に vitest.config.ts の設定が読み込まれるのかは未確認
